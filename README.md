# ğŸ“ Curtaincall - ì „í™”ë²ˆí˜¸ ë³´ì•ˆ ì–´í”Œë¦¬ì¼€ì´ì…˜

## ğŸ‘¥ íŒ€ì›

| [ë¬¸í•œê²°](https://github.com/Munhangyeol) | [gksma](https://github.com/gksma) |
|-------------------------------------------|-------------------------------------------|
| <div align="center"><img src="https://github.com/Munhangyeol.png" width="100"></div> | <div align="center"><img src="https://github.com/gksma.png" width="100"></div> |
| **Team Leader & Spring Backend Developer** | **Frontend Developer** |

## ğŸ“ ê°œìš”
**Curtaincall**ì€ (ì£¼) LKí•œì„±ìœ¼ë¡œë¶€í„° ìœ„íƒë°›ì•„ ì œì‘í•œ ì „í™”ë²ˆí˜¸ ë³´ì•ˆ ì–´í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤. ì‚¬ìš©ìì˜ ì „í™”ë²ˆí˜¸ë¥¼ ì•ˆì „í•˜ê²Œ ë³´í˜¸í•˜ê¸° ìœ„í•´ **JWT**, **AES ì•”í˜¸í™”**, ê·¸ë¦¬ê³  **Redis**ë¥¼ í™œìš©í•˜ì—¬ ë†’ì€ ë³´ì•ˆì„±ì„ ì œê³µí•©ë‹ˆë‹¤. **Spring Boot**ì™€ **Flutter**ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì•ˆì •ì ì¸ ë°±ì—”ë“œì™€ ì§ê´€ì ì¸ í”„ë¡ íŠ¸ì—”ë“œë¥¼ êµ¬í˜„í•˜ì˜€ìœ¼ë©°, **AWS** ì¸í”„ë¼ë¥¼ ì´ìš©í•œ í´ë¼ìš°ë“œ ë°°í¬ ë° **CI/CD** íŒŒì´í”„ë¼ì¸ êµ¬ì¶•ìœ¼ë¡œ íš¨ìœ¨ì ì¸ ê°œë°œ ë° ìš´ì˜ í™˜ê²½ì„ ìœ ì§€í•˜ê³  ìˆìŠµë‹ˆë‹¤.

í˜„ì¬ **êµ¬ê¸€ í”Œë ˆì´ ìŠ¤í† ì–´ í…ŒìŠ¤í„° ì‹¬ì‚¬ ì¤‘**ì´ë©°, ê³§ ì •ì‹ ì¶œì‹œ ì˜ˆì •ì…ë‹ˆë‹¤.

## ğŸš€ ê¸°ìˆ  ìŠ¤íƒ

- **Backend**: `Java 17`, `Spring Framework`, `Spring Boot`, `JPA`, `QueryDsl`, `Spring Security`, `JWT`, `Redis`
- **Database**: `MySQL`, `RDS`
- **Frontend**: `Flutter`
- **Infrastructure**: `AWS EC2`, `Docker`, `GitHub Actions`, `CI/CD`
- **Testing**: `Junit5`

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

1. **ì „í™”ë²ˆí˜¸ ì¸ì¦ API**  
   - ì‚¬ìš©ìê°€ ì…ë ¥í•œ ì¸ì¦ë²ˆí˜¸ë¥¼ `Redis`ì— ì„ì‹œë¡œ ì €ì¥í•˜ì—¬ ë¹ ë¥´ê³  ì•ˆì „í•œ ì¸ì¦ ì²˜ë¦¬ë¥¼ ì œê³µ.
   - ì¸ì¦ë²ˆí˜¸ ìœ íš¨ ê¸°ê°„ ì„¤ì • ë° ìë™ ë§Œë£Œë¡œ ë³´ì•ˆ ê°•í™”.

2. **JWT ê¸°ë°˜ ì‚¬ìš©ì ì¸ì¦ ë° ê¶Œí•œ ê´€ë¦¬**  
   - `Spring Security`ì™€ `JWT`ë¥¼ í™œìš©í•˜ì—¬ ì•ˆì „í•œ ì‚¬ìš©ì ì¸ì¦ ë° ì„¸ì…˜ ê´€ë¦¬ êµ¬í˜„.
   - ì‚¬ìš©ì ì—­í•  ê¸°ë°˜ ê¶Œí•œ ë¶€ì—¬ë¡œ ì ‘ê·¼ ì œì–´ ê°•í™” ([ğŸ”— ê³ ë¯¼í•œ ê¸€](https://velog.io/@msw0909/jwtspring-security%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%9D%B8%EC%A6%9D-%EC%B2%98%EB%A6%AC)).

3. **AES ëŒ€ì¹­ í‚¤ ì•”í˜¸í™”ë¡œ ì „í™”ë²ˆí˜¸ ë³´í˜¸**  
   - ë¯¼ê°í•œ ì‚¬ìš©ì ë°ì´í„°ë¥¼ **AES ëŒ€ì¹­ í‚¤ ì•”í˜¸í™”**ë¥¼ í†µí•´ ì•ˆì „í•˜ê²Œ ì €ì¥ ë° ê´€ë¦¬.
   - ë°ì´í„° ë³µí˜¸í™” ì‹œ ë³´ì•ˆ í‚¤ ê´€ë¦¬ë¥¼ í†µí•´ ë¶ˆë²• ì ‘ê·¼ ë°©ì§€.

4. **ë™ì  ì¿¼ë¦¬ ë° ë°ì´í„°ë² ì´ìŠ¤ ì„±ëŠ¥ ìµœì í™”**  
   - `QueryDsl`ê³¼ `JPQL`ì„ í™œìš©í•˜ì—¬ ë³µì¡í•œ ê²€ìƒ‰ ì¡°ê±´ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬.

5. **AWS ê¸°ë°˜ ë°°í¬ ë° ìë™í™”**  
   - `Docker`ë¥¼ ì´ìš©í•œ **AWS EC2** ë°°í¬ë¡œ ë†’ì€ ê°€ìš©ì„± í™•ë³´.
   - `GitHub Actions` ê¸°ë°˜ **CI/CD íŒŒì´í”„ë¼ì¸** êµ¬ì¶•ìœ¼ë¡œ ì½”ë“œ ë³€ê²½ ì‹œ ìë™ ë¹Œë“œ ë° ë°°í¬.
   - `RDS` ë° `Redis`ì™€ ì•ˆì •ì ì¸ ì—°ë™ìœ¼ë¡œ ë°ì´í„° ì¼ê´€ì„± ìœ ì§€.

## ğŸ›  í”„ë¡œì íŠ¸ êµ¬ì¡°

```plaintext
.
â””â”€â”€ curtaincall
    â”œâ”€â”€ src
    â”‚   â”œâ”€â”€ main
    â”‚   â”‚   â”œâ”€â”€ java
    â”‚   â”‚   â”‚   â””â”€â”€ com.example.curtaincall
    â”‚   â”‚   â”‚       â”œâ”€â”€ ControllerAdvise.java
    â”‚   â”‚   â”‚       â”œâ”€â”€ CurtaincallApplication.java
    â”‚   â”‚   â”‚       â”œâ”€â”€ controller
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ AuthorizationController.java
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ CallController.java
    â”‚   â”‚   â”‚       â”‚   â””â”€â”€ UserController.java
    â”‚   â”‚   â”‚       â”œâ”€â”€ domain
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ PhoneBook.java
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ RecentCallLog.java
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ User.java
    â”‚   â”‚   â”‚       â”‚   â””â”€â”€ UserListener.java
    â”‚   â”‚   â”‚       â”œâ”€â”€ dto
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ Contact.java
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ LogMessage.java
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ request
    â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ RequestRecentCallLogDTO.java
    â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ RequestRemovedNumberInPhoneBookDTO.java
    â”‚   â”‚   â”‚       â”‚   â”‚   â””â”€â”€ RequestUserDTO.java
    â”‚   â”‚   â”‚       â”‚   â””â”€â”€ response
    â”‚   â”‚   â”‚       â”‚       â”œâ”€â”€ ResponseAuthorizationDTO.java
    â”‚   â”‚   â”‚       â”‚       â”œâ”€â”€ ResponsePhoneBookDTO.java
    â”‚   â”‚   â”‚       â”‚       â”œâ”€â”€ ResponseRecentCallLogDTO.java
    â”‚   â”‚   â”‚       â”‚       â””â”€â”€ ResponseUserDTO.java
    â”‚   â”‚   â”‚       â”œâ”€â”€ global
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ PhoneNumberConverter.java
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ SecretkeyManager.java
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ aop
    â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ TimeTrace.java
    â”‚   â”‚   â”‚       â”‚   â”‚   â””â”€â”€ TimeTraceAspect.java
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ auth
    â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ AuthorizationProvider.java
    â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ CurtaincallUserInfo.java
    â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ CustomAccessDeniedHandler.java
    â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ CustomAuthenticationEntryPoint.java
    â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ filter
    â”‚   â”‚   â”‚       â”‚   â”‚   â”‚   â””â”€â”€ JwtAuthFilter.java
    â”‚   â”‚   â”‚       â”‚   â”‚   â””â”€â”€ jwt
    â”‚   â”‚   â”‚       â”‚   â”‚       â””â”€â”€ JwtUtils.java
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ config
    â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ RedisConfig.java
    â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ SecurityConfig.java
    â”‚   â”‚   â”‚       â”‚   â”‚   â””â”€â”€ WebConfig.java
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ dataloader
    â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ PhoneBookDataLoader.java
    â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ TestDataLoader.java
    â”‚   â”‚   â”‚       â”‚   â”‚   â””â”€â”€ UserDataLoader.java
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ exception
    â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ AuthorizationException.java
    â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ EncryptException.java
    â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ PhoneBookNotfoundException.java
    â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ UserAlreadyExistsException.java
    â”‚   â”‚   â”‚       â”‚   â”‚   â””â”€â”€ UserNotfoundException.java
    â”‚   â”‚   â”‚       â”‚   â””â”€â”€ userDetail
    â”‚   â”‚   â”‚       â”‚       â”œâ”€â”€ CustomUserDetails.java
    â”‚   â”‚   â”‚       â”‚       â””â”€â”€ CustomUserDetailService.java
    â”‚   â”‚   â”‚       â”œâ”€â”€ repository
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ PhoneBookRepository.java
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ RecentCallLogRepository.java
    â”‚   â”‚   â”‚       â”‚   â””â”€â”€ UserRepository.java
    â”‚   â”‚   â”‚       â””â”€â”€ service
    â”‚   â”‚   â”‚           â”œâ”€â”€ AuthorizaionService.java
    â”‚   â”‚   â”‚           â”œâ”€â”€ CallLogService.java
    â”‚   â”‚   â”‚           â”œâ”€â”€ CurtainCallMessageService.java
    â”‚   â”‚   â”‚           â”œâ”€â”€ PhoneBookService.java
    â”‚   â”‚   â”‚           â””â”€â”€ UserService.java
    â”‚   â”‚   â””â”€â”€ resources
    â”‚   â”‚       â”œâ”€â”€ application.yml       # ì• í”Œë¦¬ì¼€ì´ì…˜ í™˜ê²½ ì„¤ì • íŒŒì¼
    â”‚   â”‚       â””â”€â”€ static                # ì •ì  íŒŒì¼ ì €ì¥ì†Œ
    â”‚   â””â”€â”€ test
    â”‚       â””â”€â”€ java
    â”‚           â””â”€â”€ com.example.curtaincall
    â”‚               â””â”€â”€ service           # ì„œë¹„ìŠ¤ ê³„ì¸µ í…ŒìŠ¤íŠ¸
    â”œâ”€â”€ Dockerfile
    â”œâ”€â”€ docker-compose.yml
    â””â”€â”€ README.md
```

## ğŸ”„ CI/CD íŒŒì´í”„ë¼ì¸

1. **GitHub Actions**ë¥¼ í†µí•´ ì½”ë“œ í‘¸ì‹œ ì‹œ ìë™ í…ŒìŠ¤íŠ¸ ë° ë¹Œë“œ.
2. **Docker**ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•œ í›„ **Docker Hub**ë¡œ í‘¸ì‹œ.
3. AWS **EC2** ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì´ë¯¸ì§€ë¥¼ ìë™ìœ¼ë¡œ ê°€ì ¸ì™€ ë°°í¬.
4. **RDS** ë° **Redis**ì™€ ì•ˆì •ì ìœ¼ë¡œ ì—°ë™í•˜ì—¬ ì„œë¹„ìŠ¤ ìš´ì˜.

## ğŸ›¡ï¸ ë³´ì•ˆ ì „ëµ

1. **JWT í† í° ê¸°ë°˜ ì¸ì¦**  
   - `Spring Security`ì™€ `JWT`ë¥¼ í™œìš©í•˜ì—¬ REST API ë³´ì•ˆ ê°•í™”.
   - í† í° ë§Œë£Œ ë° ê°±ì‹  ê¸°ëŠ¥ì„ í†µí•´ ë³´ì•ˆ ìœ ì§€.

2. **AES ì•”í˜¸í™”**  
   - ì „í™”ë²ˆí˜¸ ë° ë¯¼ê° ì •ë³´ëŠ” **AES ëŒ€ì¹­ í‚¤ ì•”í˜¸í™”**ë¥¼ ì‚¬ìš©í•˜ì—¬ ì•ˆì „í•˜ê²Œ ì €ì¥.
   - í‚¤ ê´€ë¦¬ ì‹œìŠ¤í…œì„ ë„ì…í•˜ì—¬ ë°ì´í„° ë³µí˜¸í™” ì‹œ ë¶ˆë²• ì ‘ê·¼ ë°©ì§€.

3. **Redis ìºì‹±**  
   - ì¸ì¦ë²ˆí˜¸ë¥¼ `Redis`ì— ì„ì‹œ ì €ì¥í•˜ì—¬ ë¹ ë¥¸ ì¸ì¦ ì²˜ë¦¬ ë° ë³´ì•ˆ ìœ ì§€.
   - ìºì‹œ ë§Œë£Œ ì„¤ì •ìœ¼ë¡œ ë°ì´í„° ìœ ì¶œ ë°©ì§€.

## ğŸŒ ë°°í¬ í™˜ê²½

- **AWS EC2**: ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ í˜¸ìŠ¤íŒ…
- **AWS RDS**: ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬
- **Docker & Docker Compose**: ì»¨í…Œì´ë„ˆ ê¸°ë°˜ ë°°í¬ í™˜ê²½ êµ¬ì¶•

## ğŸ“ˆ ì„±ëŠ¥ ìµœì í™”

- ```QueryDsl```,```JPQL```ì„ í™œìš©í•œ ë™ì  ì¿¼ë¦¬ ì‘ì„±ìœ¼ë¡œ ìœ ì—°í•œ ë°ì´í„° ê²€ìƒ‰ ë° ì²˜ë¦¬.
  - Updateë¬¸ ìˆ˜í–‰ì‹œ ìˆ˜í–‰ ì‹œê°„  0.029ì´ˆ â†’ 0.014ì´ˆë¡œ ì ˆê° ([ê´€ë ¨ PR](https://github.com/Project-CurtainCall/backend/pull/56))
- ```Redis```ë¥¼ í™œìš©í•œ ì¸ì¦ë²ˆí˜¸ ë°ì´í„°ì— ë¹ ë¥¸ ì ‘ê·¼ ë° TTLì„¤ì •ì„ í™œìš©í•œ ì €ì¥ê³µê°„ í™•ë³´
- `Junit5`ë¥¼ í†µí•œ ì§€ì†ì ì¸ í…ŒìŠ¤íŠ¸ ë° ì„±ëŠ¥ ê²€ì¦.

## ğŸ”— ë§í¬

- [Curtaincall Github](https://github.com/Project-CurtainCall/backend)
- [JWTì™€ Spring Securityë¥¼ í™œìš©í•œ ì‚¬ìš©ì ì¸ì¦ ê³ ë¯¼ ê¸€](https://velog.io/@msw0909/jwtspring-security%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%9D%B8%EC%A6%9D-%EC%B2%98%EB%A6%AC)
- [QueryDsl ì„±ëŠ¥ ìµœì í™” ì´ìŠˆ](https://github.com/Project-CurtainCall/backend/issues/54)

---

**Curtaincall**ì€ ì‚¬ìš©ì ì „í™”ë²ˆí˜¸ ë³´ì•ˆì— ìµœì í™”ëœ ì†”ë£¨ì…˜ì„ ì œê³µí•˜ëŠ” ì–´í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ, ì•ˆì „í•˜ê³  íš¨ìœ¨ì ì¸ ì„œë¹„ìŠ¤ ì œê³µì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤. ğŸš€

